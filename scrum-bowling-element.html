<link rel="import"
      href="bower_components/polymer/polymer.html">

<polymer-element name="scrum-bowling-element">
  <template>
    <p>
      <label for="firstDayOfSprintInput">Sprint Begins On:</label>
      <select id="firstDayOfSprintInput" value="{{first_day_of_sprint}}">
        <option value="M">Monday</option>
        <option value="T">Tuesday</option>
        <option value="W">Wednesday</option>
        <option value="TH">Thursday</option>
        <option value="F">Friday</option>
      </select>
    </p>
    <p>
      <label for="maxPointsInput">Max Points Per Day:</label>
      <input id="maxPointsInput" value="{{max_points_per_day}}">
    </p>
    <template repeat="{{sprinters}}">
      <p>
        <label for="nameInput">Name:</label>
        <input id="nameInput" value="{{name}}"
             placeholder="Enter name...">
      </p>
      <p>
        <label for="daysInput">Days Available:</label>
        <input id="daysInput" value="{{days_available}}">
      </p>
      <b>{{name}}</b> has
      <span style="days_available: {{days_available}}">{{days_available}}</span>
       available days.
     </template>
  </template>
  <script>
    Polymer({
      created: function() {
        //set up initial values
        this.max_points_per_day = 5,
        this.first_day_of_sprint = "W",
        this.sprinters = [
          { name: 'Evan', days_available: 2},
          { name: "Caleb", days_available: 2 },
          { name: "Naveen", days_available: 10 },
          { name: "Jihyun", days_available: 10 },
          { name: "Alex", days_available: 10 },
          { name: "Kosta", days_available: 10 },
          { name: "Ryan", days_available: 10 }
        ];
      },
      nameChanged: function() {
        if (this.name) {
          this.name = this.name[0].toUpperCase() +
                      this.name.slice(1);
        }
      },
      daysChanged: function() {
        if (this.days_available > 10) {
          $('input#daysInput').addClass('error');
        }
      }
    });
  </script>
</polymer-element>